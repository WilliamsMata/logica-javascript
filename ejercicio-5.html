<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ejercicio 5</title>
  </head>
  <body>
    <h1>Ejercicio 5</h1>
    <ol>
      <li>
        Programa una función para convertir números de base binaria a decimal y
        viceversa, pe. miFuncion(100, 2) devolverá 4 base 10.
      </li>
      <li>
        Programa una función que devuelva el monto final despues de aplciar un
        descuento a una cantidad dada, pe. miFuncion(1000, 20) devolverá 800.
      </li>
      <li>
        Programa una función que dada una fecha válida determine cuantos años
        han pasado hasta el día de hoy, pe. miFuncion(new Date(1984,4,23))
        devolverá 35 años (en 2020).
      </li>
    </ol>
    <script>
      //Funcion para convertir números de base binaria a decimal y viceversa.
      const convertir = (numero = undefined, base = undefined) => {
        if (numero === undefined)
          return console.warn("Introduzca un numero y su base");

        if (typeof numero !== "number")
          return console.error("Debe introducir un numero");

        if (base === undefined)
          return console.warn("Introduzca la base del número");

        if (typeof base !== "number")
          return console.error("La base debe ser colocada en numeros");

        if (base === 10)
          return console.log(
            `(${numero})10 es igual a (${numero.toString(2)})2`
          );

        console.log(
          `(${numero})${base} es igual a (${parseInt(numero, base)})10`
        );
      };

      convertir(4, 10);
      convertir(100, 2);

      //Funcion que devuelva el monto final despues de aplicar un descuento a una cantidad data
      const descuento = (numero = undefined, porcentaje = undefined) => {
        if (numero === undefined)
          return console.warn(
            "Introduzca un numero y el porcentaje de descuento"
          );

        if (typeof numero != "number")
          return console.error("Los datos introducidos no son numeros");

        if (porcentaje === undefined)
          return console.warn(
            "Introduzca cuanto descuento se va a realizar en porcentaje"
          );

        if (typeof porcentaje != "number")
          return console.error("Los datos introducidos no son numeros");

        console.log(
          `Precio base= ${numero}, Descuento= ${porcentaje}%, Precio Final= ${
            numero - (numero * porcentaje) / 100
          }`
        );
      };

      descuento(1000, 20);

      //Funcion que dada una fecha válida determine cuantos años han pasado hasta el día de hoy

      const howOld = (anio = undefined, mes = undefined, fecha = undefined) => {
        if (anio === undefined || mes === undefined || fecha === undefined)
          return console.warn(
            `Introduzca desde que fecha quieres calcular hasta la actualidad (año, mes, fecha)`
          );

        if (
          typeof anio != "number" ||
          typeof mes != "number" ||
          typeof fecha != "number"
        )
          return console.error(`Los datos que introdujo no son numeros.`);

        let fechaDesde = new Date(anio, mes - 1, fecha);
        let fechaActual = new Date();
        let msEnAnios = 1000 * 60 * 60 * 24 * 30.416666666668 * 12;
        let tiempoPasadoAnio = Math.floor(
          (fechaActual - fechaDesde) / msEnAnios
        );

        console.log(
          `Desde ${fechaDesde.toDateString()} han pasado ${tiempoPasadoAnio} años`
        );
      };

      howOld(1984, 4, 23);
    </script>
  </body>
</html>
